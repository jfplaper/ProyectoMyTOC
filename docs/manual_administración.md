# MyTOC - Manual de administración

Guía para la persona encargada de gestionar el sistema o mantener la aplicación web

* El administrador accede mediante la URL http://localhost:8000/admin, donde se carga la página de inicio o main del sitio web de MyTOC diseñado específicamente para la gestión de la aplicación web. Arriba se muestra una barra superior con un menú de navegación, el cual contiene varias opciones de menú. El administrador debe hacer clic en la opción “Registrarse” para abrir la página con el formulario de registro. Ahí debe ingresar un nombre de usuario para identificarse, su correo electrónico (email), una contraseña (password) de seis caracteres como mínimo pudiendo ser alfanuméricos, repetir la contraseña, subir una imagen de perfil en formato JPEG, JPG o PNG si lo desea, hacer clic en la casilla de verificación de “Acepto los términos” y finalmente hacer clic en el botón “Registrarme” del formulario. Así obtiene los credenciales de acceso y automáticamente se le asigna el rol de usuario de administrador (ROL_ADMIN).

* A continuación el administrador debe hacer clic en la opción “Iniciar sesión” del menú de navegación para abrir la página con el formulario de inicio de sesión. Una vez cargada la página, debe ingresar el nombre de usuario con el que se registró en el paso previo, la contraseña o password y, de manera opcional, marcar la casilla de verificación “Mantener sesión abierta” si no desea volver a ingresar sus datos tras cerrar el navegador. Por último, debe hacer clic en el botón “Iniciar sesión” del formulario.

* Página raíz (/admin) o main o dashboard: Desde esta página el administrador puede acceder directamente casi al resto de páginas a través de una tabla con enlaces que permiten ir a la subpágina de visualización y gestión de datos de la tabla o entidad correspondiente, o también haciendo clic en las diferentes opciones del menú de navegación de la parte superior de la pantalla. Destaca una opción que no aparece en el menú de navegación pero sí en la tabla de enlaces llamada “Datos de las compulsiones”, la cual se detalla más adelante.

* Página de usuarios (/user): El administrador puede ver un índice o listado en formato de tabla con algunos datos de los usuarios registrados, tanto aquellos con ROL_USER solamente (usuarios finales de la aplicación web que se registran desde el sitio web del lado del cliente o frontend) como aquellos que además tienen ROL_ADMIN (administradores registrados por el sitio web del backend). Por tanto hay dos tipos de roles, pudiendo existir usuarios con ambos a la vez. El administrador también puede buscar usuarios por el nombre de usuario (campo username) y, haciendo clic en los iconos de la columna “Acciones”, puede: ver detalle del usuario, editar usuario (donde además puede otorgar o no rol de administrador y bloquear o no al usuario) y eliminar al usuario.

* Página de trastornos obsesivos-compulsivos (/toc): El administrador puede ver un índice o listado en formato de tabla con algunos datos de los tipos de TOC registrados. El administrador también puede crear nuevos tipos de TOC y, haciendo clic en los iconos de la columna “Acciones”, puede a su vez: ver detalle del TOC, editar TOC y eliminar el TOC.

* Página de clínicas (/clinic): El administrador puede ver un índice o listado en formato de tabla con algunos datos de las clínicas registradas. El administrador también puede crear nuevas clínicas, buscar clínicas por el nombre de ésta (campo name) o por su localización (campo location) y, haciendo clic en los iconos de la columna “Acciones”, puede a su vez: ver detalle de la clínica, editar clínica y eliminar la clínica.

* Página de eventos (/event): El administrador puede ver un índice o listado en formato de tabla con algunos datos de los eventos registrados. El administrador también puede crear nuevos eventos, buscar eventos por el título de éste (campo title) o por su localización (campo location) y, haciendo clic en los iconos de la columna “Acciones”, puede a su vez: ver detalle del evento, editar evento y eliminar el evento.

* Página de temas, hilos o threads (/thread): El administrador puede ver un índice o listado en formato de tabla con algunos datos de los temas registrados. El administrador también puede buscar temas por el nombre de usuario del autor de éste (campo author y de éste username) y, haciendo clic en los iconos de la columna “Acciones”, puede a su vez: ver detalle del tema, editar tema (donde además puede poner visible o no el tema) y eliminar el tema.

* Página de comentarios (/comment): El administrador puede ver un índice o listado en formato de tabla con algunos datos de los comentarios registrados. El administrador también puede buscar comentarios por el nombre de usuario del autor de éste (campo author y de éste username) y, haciendo clic en los iconos de la columna “Acciones”, puede a su vez: ver detalle del comentario, editar comentario (donde además puede poner visible o no el comentario) y eliminar el comentario.

* Página a través del enlace “Datos de las compulsiones” (/compulsion): El administrador puede ver un índice o listado en formato de tabla con algunos datos extraídos de las compulsiones registradas por los usuarios a modo de estadísticas. Cabe destacar que son datos extraídos para información, investigación y uso de MyTOC sin conocer a quiénes pertenecen esas compulsiones, pues sería vulnerar el derecho a la protección de datos y del historial clínico, pues al fin y al cabo son datos sensibles relacionados con la salud del usuario y ni el administrador ni nadie que no sea el usuario debe poder acceder directamente a esos registros pudiendo incurrir en un delito (de igual forma que no se puede acceder a la contraseña de los usuarios salvo el propio usuario que la creó).

* Finalmente, en la barra superior con el menú de navegación aparece la opción “Cerrar sesión” cuando el administrador ha iniciado sesión o tiene la sesión abierta. Por tanto, para finalizar la sesión, debe hacer clic en dicha opción.
